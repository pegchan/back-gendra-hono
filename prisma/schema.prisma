generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

enum DocumentType {
  INE
  PASAPORTE
  LICENCIA
}

enum RequestStatus {
  PENDIENTE
  APROBADA
  RECHAZADA
  REQUIERE_INFORMACION
}

enum RiskLevel {
  BAJO
  MEDIO
  ALTO
}

model VerificationRequest {
  id              String        @id @default(uuid())
  fullName        String        @map("full_name")
  email           String
  phone           String
  country         String
  documentType    DocumentType  @map("document_type")
  documentNumber  String        @map("document_number")
  imageUrl        String?       @map("image_url")
  status          RequestStatus @default(PENDIENTE)
  riskScore       Int           @default(0) @map("risk_score")
  riskLevel       RiskLevel     @default(BAJO) @map("risk_level")
  createdAt       DateTime      @default(now()) @map("created_at")
  updatedAt       DateTime      @updatedAt @map("updated_at")

  @@map("verification_requests")
}
